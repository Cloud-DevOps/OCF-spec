<?xml version="1.0"?>
<!DOCTYPE resource-agent SYSTEM "ra-api-1.dtd">

<!-- Root element: give the name of the Resource agent -->
<resource-agent name="Filesystem" version="FailSafe 1.0.4">

<!-- Version number of the standard this complies with -->
<version>1.1</version>

<!-- In addition to providing our own type, we might provide an abstract
     class in relation to the LSB-style dependency based ordering. 
     
     Could be listed multiple times each if more than one dependency exists.
  -->
<provides>Filesystem</provides>

<requires>Blockdevice</requires>
 
<!-- List all the instance parameters the RA supports or requires. -->
<parameters>

<!-- Note that there should be only one parameter with the resource-key flag
     set; this signifies this is the one describing the resource name.
 -->
 
<parameter name="Mountpoint" resource-key="1">
<!-- This is the long, helpful description of what the parameter is all
     about. A user interface might display it to the user if he asks for 
     elaborate help with an option, and it would obviously also provide 
     examples etc.
     
     You can have multiple ones with different "lang" attributes, but this is
     not required.
-->
<longdesc lang="en">
The resource name is the directory where the filesystem will be actually
mounted.  Please make sure it exists. 
</longdesc>

<!-- The shortdesc may be displayed by the resource manager as a tooltip or
     equivalent -->
<shortdesc>Mountpoint</shortdesc>

<!-- Further definition of the content -->
<content type="string" default="/mnt" />

</parameter>

<parameter name="Device">
<longdesc>
When mounting a filesystem on a specific mountpoint, you have to specify which
device should be mounted; this will usually be similiar to /dev/sda1 or
/dev/volumegroup/logicalvolume when using LVM.
</longdesc>
<shortdesc>Device to be mounted</shortdesc>
<content type="string" default="/dev/"/>
</parameter>

<parameter name="FSType">
<longdesc>
You should chose a journaled filesystem for the shared storage to ensure that
the filesystem remains consistent and that it can be mounted without an
expensive fsck run; recommendations include reiserfs, ext3 and XFS.
</longdesc>
<shortdesc>Type of the filesystem</shortdesc>
<content type="string" default="reiserfs"/>
</parameter>

<parameter name="mount_options">
<longdesc>
The mount options used for mounting a filesystem; normally this is set to
defaults, but you may want to modify this if you require a read-only
mount or something similar.
</longdesc>
<shortdesc>Mount options for this filesystem</shortdesc>
<content type="string" default="defaults" />
</parameter>

</parameters>

<!-- List the actions supported by the RA -->
<actions>
<!-- Valid actions: start, stop, restart, status, reload, verify-all
     
     The timeout is given in seconds and should be a reasonable _hint_ to the
     RM how long a certain action might take in the worst case. 
  -->
<action name="start"   timeout="200" />
<action name="stop"    timeout="100" />
<action name="restart" timeout="150" />
<!-- In what intervals the RM should poll the RA for status; and how early
     after the start of the RA is should start. Again, this are just
     _defaults_ and can be overridden by the RM. -->
<action name="monitor"  timeout="60" interval="30" start-delay="50" />
<action name="reload"  timeout="60" />
<action name="meta-data"  timeout="5" />
<!-- As with all not mandatory actions, this one is only listed if supported
  -->
<action name="verify-all"  timeout="30" />

</actions>

<!-- Vendor specific attributes; as the content _inside_ the special tag is
     obviously not covered by the RA-API DTD, it will not validate, but oh 
     well...
  -->
<special tag="FailSafe">
<Ordering>403</Ordering>
</special>

</resource-agent>
